# zigbee-net-tech
基于zigbee的组网技术，协调器使用串口向上位机发送消息，各个终端设备采集信息发送到协调器


注：所有AF数据采用AES加密传输

------------------------------------------------------------------------------------------------------------------------------------------
|*****************树莓派上位机需要处理的消息**********************						|
|1.转发下传云服务器发送的数据到协调器									|
|2.转发上传协调器发送过来的数据给云服务器								|
------------------------------------------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------------------------------------------
|*****************协调器需要处理的消息******************							|
|协调器串口向上位机发送消息：										|
|	1.协调器向上位机发送心跳信号：# + 0x46 + @							|
|	2.协调器发送掉线终端信息到上位机：# + 0x44 + 掉线终端的IEEE8个字节 + @				|
|	3.协调器向上位机发送已经组建好网络消息：# + 0x45 + @						|
|	4.协调器向上位机回复收到投币命令：# + 0x72 + 终端IEEE8个字节 + @					|
|												|
|协调器串口收到的上位机消息：										|
|	1.开始指定游戏机游戏命令：# + 0x81 + 终端短地址高字节 + 终端短地址低字节 + 启动需要投币个数 + @		|
|												|
|协调器向终端发送的AF消息：										|
|	1.指定币数开始游戏命令：# + 0x81 + 投币个数 + @							|
|												|
|协调器收到的AF终端无线消息：										|
|	1.处理终端入网消息：# + 0x71 + 短地址高字节 + 短地址低字节 + IEEE8个字节 + @				|
|	2.处理终端心跳消息：# + 0x71 + 短地址高字节 + 短地址低字节 + IEEE8个字节 + @				|
|	3.转发终端回复的收到投币命令消息：# + 0x72 + IEEE8个字节 + @					|
|	4.转发终端按键S1主动向服务器注册消息：# + 0x51 + 短地址高字节 + 短地址低字节 + IEEE8个字节 + @		|
|												|
|协调器按键S1功能：向终端广播消息，测试是否终端是否连接，终端收到消息LED2闪灯2次，自身LED2闪灯2次			|
|	发送消息格式：# + 0x31 + LED状态 + @								|
------------------------------------------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------------------------------------------
|*****************终端需要处理的消息******************								|
|终端发送AF数据：											|
|	1.终端发送自身地址信息到协调器：# + 0x71 + 短地址高字节 + 短地址低字节 + IEEE8个字节 + @			|
|	2.终端回复收到投币开始游戏命令：# + 0x72 + IEEE8个字节 + @						|
|终端接收AF数据：											|
|	1.终端收到开始游戏命令：# + 0x81 + 需要投币个数 + @						|
|	2.终端收到闪灯连接测试命令：# + 0x31 + LED状态 + @						|
|终端按键S1功能：向协调器主动上传自己的短地址和长地址，便于服务端绑定游戏机					|
|	消息格式：# + 0x51 + 短地址高字节 + 短地址低字节 + IEEE8个字节 + @					|
------------------------------------------------------------------------------------------------------------------------------------------



